Installing Docker Desktop
============================
- Intsall Docker for Mac OS laptop, follow this video
https://www.youtube.com/watch?v=MU8HUVlJTEY

- Install Docker for Linux, follow this video
https://www.youtube.com/watch?v=KCckWweNSrM

- Intsall Docker for Windows OS laptop, follow this video
https://www.youtube.com/watch?v=ymlWt1MqURY

- Configure Docker Desktop using at least 2 cores, and 10G memory. Recommend 4 cores, 16G memory
click Dock Desktop icon, click Preferences...>>Advance menu, drag CPU and Memory slide to the desired confi.
quit and restart docker desktop

Pull Pre-built TigerGraph Docker Image 
============================================
One command pull docker image and bind all ports for first time user from TigerGraph  docker registry 

this image should start as a daemon, so user can ssh to it. 

Open a shell on your host machine
cd ~/
#below is the folder to share between your host machine and docker container.
mkdir data
#make sure tigergraph user has write permission on the data folder
chmod 777 data
#rm old version, only do this step if you upgrade your docker  image
docker rmi -f docker.tigergraph.com/tigergraph-dev:latest > /dev/null 2>&1
#stop and remove existing container only if an old version is being used
docker stop tigergraph_dev
docker rm tigergraph_dev
#pull the tigergraph docker image and run it as a daemon, change the ports accordingly if there is a conflict
docker run -d -p 14022:22 -p 9000:9000 -p 14240:14240 --name tigergraph_dev --ulimit nofile=1000000:1000000 -v ~/data:/home/tigergraph/tigergraph/loadingData -t docker.tigergraph.com/tigergraph-dev:latest

#see running container
docker container ls | grep tigergraph_dev

# stop container
docker container stop tigergraph_dev

# start container
docker container start tigergraph_dev

Content of the Docker Image
================================
In the dev image, we include 

- ssh server 
- git
- wget
- curl
- emac, vim etc. 
- tar
- g++ version 4.8
- tutorial: gsql 101, gsql 102 folder, tutorial folder
- latest gsql open source graph algorithm library: gsql-graph-algorithms folder

How to share data drive on your host with docker container
=============================================================
#e.g. 
cd ~/
#below is the folder to share between your host machine and docker container.
mkdir data
chmod 777 data
#mount it  to /home/tigergraph/tigergraph/loadingData when you download the image
docker run -d -p 14022:22 -p 9000:9000 -p 14240:14240 --name tigergraph_dev --ulimit nofile=1000000:1000000 -v ~/data:/home/tigergraph/tigergraph/loadingData -t docker.tigergraph.com/tigergraph-dev:latest

# once you mount the data drive, on your host, you can put files under ~/data, it will be visible in /home/tigergraph/tigergraph/loadingData. Vice versa, anything you put under /home/tigergraph/tigergraph/loadingData within the container, 
# will be visible on your host machchine ~/data folder.

Since our dev edition does not support backup/restore data, you can persist your data (raw file, gsql script etc.)  on the data volume
After upgrading Dev version, you can start a new container using the same data volume. 

Start/shutdown Docker Desktop
===============================
- To shut down it, click you docker desktop, click "Quick Docker Desktop" will shutdown it. 
- To start it, find the Docker Desktop icon, double click it. 

Start/shutdown TigerGraph service
==================================
#After you start Docker Desktop, #use the below command to start the container
docker run -d -p 14022:22 -p 9000:9000 -p 14240:14240 --name tigergraph_dev --ulimit nofile=1000000:1000000 -v ~/data:/home/tigergraph/tigergraph/loadingData -t docker.tigergraph.com/tigergraph-dev:latest
#ssh to the container, if localhost is not recognized, remove localhost entry from ~/.ssh/known_hosts
ssh -p 14022 tigergraph@localhost
#or
docker inspect tigergraph_dev | grep IPAddress
ssh tigergraph@<ip_address>
#enter password for tigergraph user
tigergraph
#start tigergraph service
gadmin start 

#start graph studio
open a browser on your laptop
http://localhost:14240

#check version
gsql version
#use 2.4 and above

Documents and Forum
=====================
- Tutorial

https://docs.tigergraph.com/intro/gsql-101
https://docs.tigergraph.com/intro/gsql-102

- Forum
If you like the tutorial and want to explore more, join the GSQL developer community at 
https://groups.google.com/a/opengsql.org/forum/?hl=en#!forum/gsql-users

- Videos to learn
https://www.youtube.com/channel/UCnSOlBNWim68MYzcKbEswCA/videos

- ebook 
https://info.tigergraph.com/ebook

- webinars 
https://www.tigergraph.com/webinars-and-events/

